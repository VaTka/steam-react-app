import {useState} from "react";
import {useDispatch} from "react-redux";
import {sortByDate, sortByLowerPrice} from "../store/steamSlice";

const DropDown = () => {
    const [showOptions, setShowOptions] = useState(false)
    const [arrowVector, setArrowVector] = useState(false)
    const dispatch = useDispatch()

    const handleClick = () => {
        setShowOptions(!showOptions)
        setArrowVector(!arrowVector)
    }

    return (
        <div className="relative w-full">
            <div>
                <button type="button"
                        className="inline-flex w-full justify-between rounded-2xl px-4 py-3 text-white text-left bg-[#837F7F] flex items-center"
                        id="menu-button" aria-expanded="true" aria-haspopup="true" onClick={handleClick}>
                    Price
                    {arrowVector ?
                        <svg className="h-3 w-5" xmlns="http://www.w3.org/2000/svg"
                             fill="currentColor" aria-hidden="true">
                            <path
                                d="M8.61193 8.99998C8.3373 9.00055 8.07115 8.89883 7.85969 8.71248L0.807449 2.46248C0.567419 2.25031 0.416472 1.94542 0.387817 1.61488C0.359161 1.28435 0.455145 0.955249 0.654651 0.699978C0.854157 0.444707 1.14084 0.284177 1.45164 0.253702C1.76244 0.223228 2.0719 0.325305 2.31193 0.537478L8.61193 6.13748L14.9119 0.737479C15.0322 0.633646 15.1705 0.556107 15.319 0.509317C15.4675 0.462527 15.6232 0.44741 15.7772 0.464834C15.9312 0.482258 16.0805 0.531879 16.2164 0.610846C16.3523 0.689814 16.4722 0.79657 16.5692 0.924978C16.6768 1.05351 16.7584 1.20429 16.8087 1.36788C16.859 1.53147 16.8769 1.70435 16.8615 1.87568C16.8461 2.04701 16.7975 2.2131 16.7189 2.36354C16.6403 2.51399 16.5333 2.64555 16.4046 2.74998L9.35241 8.78748C9.13487 8.94437 8.87415 9.01919 8.61193 8.99998Z"
                                fill="#231F20"/>
                        </svg> :
                        <svg className="h-3 w-5" width="17" height="10" viewBox="0 0 17 10" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M8.544 1.00046C8.81859 0.99616 9.0861 1.09425 9.30007 1.27772L16.4366 7.43134C16.6795 7.64023 16.8345 7.94305 16.8677 8.27316C16.9008 8.60327 16.8093 8.93365 16.6133 9.1916C16.4173 9.44956 16.1328 9.61397 15.8224 9.64866C15.5121 9.68336 15.2013 9.58549 14.9584 9.3766L8.58288 3.8627L2.35682 9.34778C2.23801 9.45323 2.10074 9.53265 1.95289 9.58145C1.80505 9.63025 1.64954 9.64748 1.49531 9.63215C1.34108 9.61682 1.19117 9.56923 1.05419 9.49212C0.917218 9.415 0.795876 9.30989 0.697147 9.18281C0.587769 9.05575 0.504207 8.90609 0.451692 8.7432C0.399176 8.58031 0.378843 8.40769 0.391964 8.23617C0.405083 8.06464 0.451372 7.89791 0.527934 7.74641C0.604494 7.59491 0.709679 7.46191 0.836895 7.35574L7.80647 1.223C8.02186 1.06317 8.28153 0.984812 8.544 1.00046Z"
                                fill="#231F20"/>
                        </svg>
                    }
                </button>
            </div>
            {showOptions && (<div
                className="absolute right-0 z-10 mt-2 w-56 origin-top-right shadow-lg rounded-2xl px-4 py-3 text-white text-left bg-[#837F7F]"
                role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabIndex="-1">
                <div className="py-1 " role="none">
                    <button className="inline-flex w-full justify-between flex items-center" onClick={() => {
                        dispatch(sortByLowerPrice())
                    }}>
                        Price
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M9.659 19.3487C9.14651 19.3481 8.65479 19.1461 8.28992 18.7862L1.48696 11.9726C1.31238 11.7991 1.20358 11.5702 1.17918 11.3252L0.245229 1.40204C0.230932 1.24659 0.251103 1.0899 0.304303 0.943143C0.357502 0.796385 0.442422 0.663169 0.553007 0.552992C0.663185 0.442406 0.7964 0.357487 0.943159 0.304287C1.08992 0.251087 1.2466 0.230917 1.40205 0.245214L11.3253 1.17916C11.5702 1.20357 11.7991 1.31237 11.9726 1.48694L18.7862 8.2899C19.1472 8.65198 19.3499 9.1424 19.3499 9.65368C19.3499 10.165 19.1472 10.6554 18.7862 11.0175L11.0175 18.7862C10.6565 19.1455 10.1683 19.3476 9.659 19.3487ZM3.29117 10.7415L9.659 17.1093L17.1412 9.62715L10.7734 3.25932L2.48458 2.48457L3.29117 10.7415Z"
                                fill="#231F20"/>
                            <path
                                d="M7.1437 8.73564C8.02291 8.73564 8.73566 8.0229 8.73566 7.14368C8.73566 6.26447 8.02291 5.55173 7.1437 5.55173C6.26449 5.55173 5.55174 6.26447 5.55174 7.14368C5.55174 8.0229 6.26449 8.73564 7.1437 8.73564Z"
                                fill="#231F20"/>
                        </svg>
                    </button>
                    <button className="inline-flex w-full justify-between flex items-center" onClick={() => {
                        dispatch(sortByDate())
                    }}>
                        Publish Date
                        <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M17.25 0.375H3.75C2.85489 0.375 1.99645 0.730579 1.36351 1.36351C0.730579 1.99645 0.375 2.85489 0.375 3.75V17.25C0.375 18.1451 0.730579 19.0036 1.36351 19.6365C1.99645 20.2694 2.85489 20.625 3.75 20.625H17.25C18.1451 20.625 19.0036 20.2694 19.6365 19.6365C20.2694 19.0036 20.625 18.1451 20.625 17.25V3.75C20.625 2.85489 20.2694 1.99645 19.6365 1.36351C19.0036 0.730579 18.1451 0.375 17.25 0.375ZM10.5 3.75C10.7225 3.75 10.94 3.81598 11.125 3.9396C11.31 4.06321 11.4542 4.23891 11.5394 4.44448C11.6245 4.65005 11.6468 4.87625 11.6034 5.09448C11.56 5.31271 11.4528 5.51316 11.2955 5.6705C11.1382 5.82783 10.9377 5.93498 10.7195 5.97838C10.5012 6.02179 10.275 5.99951 10.0695 5.91436C9.86391 5.82922 9.68821 5.68502 9.5646 5.50002C9.44098 5.31501 9.375 5.0975 9.375 4.875C9.375 4.57663 9.49353 4.29048 9.7045 4.0795C9.91548 3.86853 10.2016 3.75 10.5 3.75ZM6 3.75C6.2225 3.75 6.44001 3.81598 6.62502 3.9396C6.81002 4.06321 6.95422 4.23891 7.03936 4.44448C7.12451 4.65005 7.14679 4.87625 7.10338 5.09448C7.05998 5.31271 6.95283 5.51316 6.7955 5.6705C6.63816 5.82783 6.43771 5.93498 6.21948 5.97838C6.00125 6.02179 5.77505 5.99951 5.56948 5.91436C5.36391 5.82922 5.18821 5.68502 5.0646 5.50002C4.94098 5.31501 4.875 5.0975 4.875 4.875C4.875 4.57663 4.99353 4.29048 5.2045 4.0795C5.41548 3.86853 5.70163 3.75 6 3.75ZM18.375 17.25C18.375 17.5484 18.2565 17.8345 18.0455 18.0455C17.8345 18.2565 17.5484 18.375 17.25 18.375H3.75C3.45163 18.375 3.16548 18.2565 2.9545 18.0455C2.74353 17.8345 2.625 17.5484 2.625 17.25V9.375H18.375V17.25Z"
                                fill="#231F20"/>
                        </svg>
                    </button>
                </div>
            </div>)}
        </div>
    )
}

export default DropDown
