import React from 'react';
import {useDispatch} from "react-redux";
import {toggleLike} from "../store/steamSlice";
import {Link} from "react-router-dom";

const GameCard = ({appId, title, imgUrl, price, released, like}) => {
    const dispatch = useDispatch()

    return (
        <div className="block bg-[#17323A] w-[260px] rounded-2xl mx-4 my-4">
            <div className="relative w-full">
                <img src={imgUrl} className="w-full h-[100px] rounded-2xl" alt={"game logo"}/>
                {like !== false &&
                    <button className="absolute right-2 top-[80%] bg-[#837F7F] rounded-full p-1 shadow-2xl">
                        <svg width="37" height="37" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18.5 0.583344C14.9564 0.583344 11.4924 1.63414 8.54603 3.60285C5.59965 5.57156 3.30322 8.36976 1.94715 11.6436C0.591084 14.9174 0.236274 18.5199 0.927592 21.9954C1.61891 25.4709 3.32531 28.6633 5.831 31.169C8.33669 33.6747 11.5291 35.3811 15.0046 36.0724C18.4801 36.7637 22.0826 36.4089 25.3564 35.0529C28.6303 33.6968 31.4284 31.4004 33.3972 28.454C35.3659 25.5076 36.4167 22.0436 36.4167 18.5C36.4167 16.1472 35.9532 13.8173 35.0528 11.6436C34.1524 9.46985 32.8327 7.49473 31.169 5.83101C29.5053 4.1673 27.5302 2.84757 25.3564 1.94717C23.1827 1.04677 20.8528 0.583344 18.5 0.583344ZM18.5 32.8333C15.6651 32.8333 12.8939 31.9927 10.5368 30.4177C8.17972 28.8428 6.34258 26.6042 5.25772 23.9851C4.17287 21.3661 3.88902 18.4841 4.44207 15.7037C4.99513 12.9233 6.36025 10.3694 8.3648 8.36481C10.3694 6.36026 12.9233 4.99514 15.7037 4.44209C18.4841 3.88903 21.366 4.17288 23.9851 5.25774C26.6042 6.34259 28.8428 8.17973 30.4177 10.5368C31.9927 12.8939 32.8333 15.6651 32.8333 18.5C32.8333 22.3014 31.3232 25.9472 28.6352 28.6352C25.9472 31.3232 22.3014 32.8333 18.5 32.8333Z"
                                fill="white"/>
                            <path
                                d="M19.1092 10.3479C18.6702 9.94337 18.1219 9.67674 17.5326 9.58118C16.9433 9.48562 16.3389 9.56534 15.7946 9.81044C15.2661 10.0242 14.8134 10.3907 14.4943 10.863C14.1751 11.3353 14.0041 11.8921 14.0029 12.4621V24.5379C14.0041 25.108 14.1751 25.6647 14.4943 26.1371C14.8134 26.6094 15.2661 26.9758 15.7946 27.1896C16.183 27.3658 16.6044 27.4574 17.0308 27.4584C17.7993 27.455 18.5394 27.1678 19.1092 26.6521L25.6667 20.6142C25.9599 20.3456 26.1941 20.019 26.3544 19.655C26.5146 19.291 26.5973 18.8977 26.5973 18.5C26.5973 18.1024 26.5146 17.709 26.3544 17.3451C26.1941 16.9811 25.9599 16.6544 25.6667 16.3859L19.1092 10.3479ZM17.6042 23.1584V13.8417L22.6387 18.5L17.6042 23.1584Z"
                                fill="white"/>
                        </svg>
                    </button>
                }
            </div>
            <div className="text-white p-3">
                <div className="w-[90%]">
                    <Link to={`/${appId}`} className="my-1 hover:text-gray-200">{title.slice(0, 32)}</Link>
                </div>
                <div className="font-thin">
                    <div>{released}</div>
                    <div className="flex justify-between">
                        <div>{price}</div>
                        <button onClick={() => dispatch(toggleLike({appId}))}>
                            {like === false ?
                                <svg width="24" height="21" viewBox="0 0 24 21" fill="none"
                                     xmlns="http://www.w3.org/2000/svg"
                                     className="transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-700">
                                    <path
                                        d="M11.7124 1.79441C10.3497 0.57241 8.56366 -0.0692986 6.73479 0.00594202C4.90592 0.0811826 3.17867 0.867427 1.92088 2.19724C0.663089 3.52705 -0.025862 5.29536 0.000742834 7.12559C0.0273477 8.95581 0.767406 10.7033 2.06332 11.996L10.0572 19.9888C10.4963 20.4277 11.0916 20.6742 11.7124 20.6742C12.3332 20.6742 12.9286 20.4277 13.3676 19.9888L21.3615 11.996C22.6575 10.7033 23.3975 8.95581 23.4241 7.12559C23.4507 5.29536 22.7618 3.52705 21.504 2.19724C20.2462 0.867427 18.5189 0.0811826 16.6901 0.00594202C14.8612 -0.0692986 13.0752 0.57241 11.7124 1.79441ZM10.3405 3.71885L10.8848 4.262C11.1043 4.48145 11.402 4.60473 11.7124 4.60473C12.0228 4.60473 12.3205 4.48145 12.54 4.262L13.0844 3.71885C13.5163 3.27164 14.033 2.91493 14.6042 2.66953C15.1755 2.42414 15.7899 2.29497 16.4116 2.28957C17.0333 2.28416 17.6499 2.40263 18.2253 2.63807C18.8008 2.8735 19.3236 3.22117 19.7632 3.66081C20.2028 4.10045 20.5505 4.62324 20.786 5.19868C21.0214 5.77412 21.1399 6.39069 21.1345 7.01241C21.129 7.63412 20.9999 8.24854 20.7545 8.8198C20.5091 9.39106 20.1524 9.90773 19.7052 10.3397L11.7124 18.3336L3.71969 10.3397C2.86677 9.45657 2.39482 8.2738 2.40548 7.04611C2.41615 5.81841 2.90859 4.64403 3.77673 3.77589C4.64487 2.90774 5.81926 2.41531 7.04695 2.40464C8.27464 2.39397 9.45741 2.86592 10.3405 3.71885Z"
                                        fill="white"/>
                                </svg>
                                :
                                <svg width="28" height="23" viewBox="0 0 28 23" fill="none"
                                     xmlns="http://www.w3.org/2000/svg"
                                     className="transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-700">
                                    <path
                                        d="M14 23C13.8245 23.001 13.6506 22.9673 13.4881 22.901C13.3257 22.8346 13.1779 22.7369 13.0533 22.6133L2.69334 12.24C1.39382 10.9269 0.664886 9.15405 0.664886 7.30663C0.664886 5.4592 1.39382 3.68639 2.69334 2.37329C4.00302 1.06731 5.77711 0.333923 7.62667 0.333923C9.47623 0.333923 11.2503 1.06731 12.56 2.37329L14 3.81329L15.44 2.37329C16.7497 1.06731 18.5238 0.333923 20.3733 0.333923C22.2229 0.333923 23.997 1.06731 25.3067 2.37329C26.6062 3.68639 27.3351 5.4592 27.3351 7.30663C27.3351 9.15405 26.6062 10.9269 25.3067 12.24L14.9467 22.6133C14.8221 22.7369 14.6743 22.8346 14.5119 22.901C14.3494 22.9673 14.1755 23.001 14 23Z"
                                        fill="#DD1717"/>
                                </svg>

                            }
                        </button>
                    </div>
                </div>
            </div>
        </div>
    );
}

export default GameCard;
